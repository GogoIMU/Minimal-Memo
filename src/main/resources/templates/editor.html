<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hina+Mincho&family=Shippori+Mincho&family=Zen+Maru+Gothic&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Minimal Memo</title>
</head>
<body>
<div class="container">
    <!-- 行番号表示のスイッチボタン -->
    <button id="toggleLineNumbers" type="button" onclick="toggleLineNumbers()">
        <img src="/images/linenumber.png" alt="LineNumbers">
    </button>

    <!-- テキストエリアと文字数カウントを含むコンテナ -->
    <div class="editor-wrapper">
        <div class="editor-container">
            <!-- 行番号を表示するエリア -->
            <div id="lineNumbers" class="line-numbers"></div>
            <!-- テキストエリア -->
            <textarea id="content" name="content" th:text="${content}" oninput="updateLineNumbers(); countCharacters();" onscroll="syncScroll()"></textarea>
        </div>
        <!-- 文字数カウント -->
        <p id="charCountWrapper">文字数: <span id="charCount">0</span></p>
    </div>

    <!-- ボタンエリア -->
    <div class="button-area">
        <button id="undo-button" type="button" onclick="undo()">
            <img src="/images/undo.png" alt="Undo">
        </button>
        <button id="redo-button" type="button" onclick="redo()">
            <img src="/images/redo.png" alt="Redo">
        </button>
        <button id="font-button" type="button" onclick="toggleFontSelector()">
            <img src="/images/pen.png" alt="Font">
        </button>
        <button id="save-button" type="button">
            <img src="/images/floppy.png" alt="Save">
        </button>
        <button id="load-button" type="button" onclick="loadFile()">
            <img src="/images/folder.png" alt="Load">
        </button>
        <button id="dark-mode-button" type="button" onclick="toggleDarkMode()">
            <img src="/images/moon.png" alt="Dark Mode">
        </button>

    <!-- タイピング音の音ボタン -->
    <button id="mute-button" type="button" onclick="toggleTypingSound()">
        <img src="/images/mute.png" alt="Mute Typing Sound">
    </button>

        <!-- フォント選択のセレクトボックス -->
        <div id="fontSelector">
            <select id="fontSelect" onchange="changeFont()">
                <option value="Yu Gothic">游ゴシック</option>
                <option value="Yu Mincho">游明朝</option>
                <option value="Shippori Mincho">しっぽり明朝</option>
                <option value="Hina Mincho">ひな明朝</option>
                <option value="Zen Maru Gothic">ZEN丸ゴシック</option>
            </select>
        </div>
    </div>
</div>
<audio id="typing-sound" src="/sounds/typing.mp3" preload="auto"></audio>
<script src="/js/script.js"></script>
</body>
</html>
